{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.COMPONENT_OPERATIONS = exports.DATA_TYPE_OPERATIONS = exports.OPERATION_TYPES = undefined;\n\nvar _DATA_TYPE_OPERATIONS;\n\nvar _filter2 = require('lodash/filter');\n\nvar _filter3 = _interopRequireDefault(_filter2);\n\nvar _remove2 = require('lodash/remove');\n\nvar _remove3 = _interopRequireDefault(_remove2);\n\nvar _includes2 = require('lodash/includes');\n\nvar _includes3 = _interopRequireDefault(_includes2);\n\nvar _formConst = require('./form-const');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nvar OPERATION_TYPES = exports.OPERATION_TYPES = {\n  ON_UPDATE: 'onUpdate'\n};\nvar common = {\n  onUpdate: function onUpdate(event) {\n    var target = event.target;\n    return target.value;\n  }\n};\nvar DATA_TYPE_OPERATIONS = exports.DATA_TYPE_OPERATIONS = (_DATA_TYPE_OPERATIONS = {}, _defineProperty(_DATA_TYPE_OPERATIONS, _formConst.DATA_TYPE.STRING, {\n  onUpdate: common.onUpdate\n}), _defineProperty(_DATA_TYPE_OPERATIONS, _formConst.DATA_TYPE.BOOLEAN, {\n  onUpdate: function onUpdate(value) {\n    return value;\n  }\n}), _defineProperty(_DATA_TYPE_OPERATIONS, _formConst.DATA_TYPE.NUMBER, {\n  onUpdate: function onUpdate(event) {\n    var target = event.target;\n    return target.valueAsNumber;\n  }\n}), _defineProperty(_DATA_TYPE_OPERATIONS, _formConst.DATA_TYPE.DATE, {\n  onUpdate: function onUpdate(event) {\n    return event;\n  }\n}), _defineProperty(_DATA_TYPE_OPERATIONS, _formConst.DATA_TYPE.ARRAY, {\n  onUpdate: function onUpdate(eventOrValue, field, oldValue, newValue) {\n    if (field.component.type === _formConst.COMPONENT_TYPE.SELECT) {\n      return (0, _filter3.default)(eventOrValue.target.options, function (option) {\n        return option.selected;\n      }).map(function (option) {\n        return option.value;\n      });\n    } else {\n      var val = newValue || eventOrValue;\n      if (!oldValue) return [val];\n      return !(0, _includes3.default)(oldValue, val) ? [].concat(_toConsumableArray(oldValue), [val]) : [].concat(_toConsumableArray((0, _remove3.default)(oldValue, function (eachVal) {\n        return eachVal !== val;\n      })));\n    }\n  }\n}), _DATA_TYPE_OPERATIONS);\n\nvar COMPONENT_OPERATIONS = exports.COMPONENT_OPERATIONS = _defineProperty({}, _formConst.COMPONENT_TYPE.RADIO, {\n  onUpdate: function onUpdate(value) {\n    return value;\n  }\n});","map":null,"metadata":{},"sourceType":"script"}